// Generated by CoffeeScript 1.3.1
(function() {
  var xhrContainer;

  window.privatizer = {};

  window.privatizer.xhrContainer = {
    count: 0,
    callbacks: []
  };

  xhrContainer = window.privatizer.xhrContainer;

  self.port.on('loadCSS', function(message) {
    var style;
    style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode(message.css));
    return document.getElementsByTagName('head')[0].appendChild(style);
  });

  self.port.on('requestCallback', function(response) {
    return xhrContainer.callbacks[response.requestID](response);
  });

  window.privatizer.request = function(data) {
    return self.port.emit('request', data);
  };

}).call(this);
